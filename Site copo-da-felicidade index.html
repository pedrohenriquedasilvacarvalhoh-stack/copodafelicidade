<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Copo da Felicidade</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background-color: #b9d7f2;
    text-align: center;
}

header {
    background-color: #ff6b81;
    color: white;
    padding: 20px;
    font-size: 28px;
    font-weight: bold;
}

.container {
    margin: 30px auto;
    background: white;
    width: 90%;
    max-width: 500px;
    padding: 25px;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

h2 { color: #ff6b81; }

img {
    width: 100%;
    border-radius: 10px;
    margin-bottom: 10px;
}

input, select, textarea {
    width: 90%;
    padding: 10px;
    margin: 10px 0;
    border-radius: 8px;
    border: 1px solid #ccc;
}

button {
    background-color: #ff4757;
    color: white;
    border: none;
    padding: 10px 18px;
    border-radius: 8px;
    cursor: pointer;
    margin-top: 5px;
}

button:hover { background-color: #e84118; }

.hidden { display: none; }

.box {
    background: #f1f1f1;
    padding: 10px;
    margin: 10px 0;
    border-radius: 8px;
}

.total {
    font-weight: bold;
    color: #e84118;
}
</style>
</head>

<body>

<header>üçì Copo da Felicidade üç´</header>

<div class="container">
<h2>Sobre o Produto</h2>
<p>
Camadas de bolo fofinho, creme especial, chocolate e morangos frescos üçì‚ú®
Perfeito para ado√ßar seu dia!
</p>

<img src="copo1.png">
<img src="copo2.png">
</div>

<!-- PEDIDO -->
<div class="container" id="pedidoArea">
<h2>Fa√ßa seu Pedido</h2>

<form onsubmit="salvarPedido(event)">
<input type="text" id="nome" placeholder="Seu nome" required>

<select id="sabor" required>
<option value="">Escolha o sabor</option>
<option value="15">Morango - R$15</option>
<option value="16">Chocolate - R$16</option>
<option value="18">Morango com Chocolate - R$18</option>
</select>

<input type="number" id="quantidade" placeholder="Quantidade" min="1" required oninput="calcularTotal()">

<div class="total">
Total: R$ <span id="valorTotal">0</span>
</div>

<input type="text" id="whatsapp" placeholder="Seu WhatsApp" required>

<button type="submit">Fazer Pedido</button>
</form>

<button onclick="mostrarLogin()">√Årea do Administrador</button>
</div>

<!-- LOGIN -->
<div class="container hidden" id="loginArea">
<h2>Login ADM</h2>
<input type="text" id="usuario" placeholder="Usu√°rio">
<input type="password" id="senha" placeholder="Senha">
<button onclick="fazerLogin()">Entrar</button>
</div>

<!-- ADMIN -->
<div class="container hidden" id="adminArea">
<h2>Painel Administrativo</h2>

<h3>Pedidos</h3>
<div id="listaPedidos"></div>

<h3>Coment√°rios</h3>
<div id="listaComentariosADM"></div>

<button onclick="voltar()">Voltar</button>
</div>

<!-- AVALIA√á√ïES -->
<div class="container">
<h2>Avalia√ß√µes</h2>

<input type="text" id="nomeAvaliacao" placeholder="Seu nome">
<textarea id="comentario" placeholder="Deixe sua avalia√ß√£o"></textarea>
<button onclick="salvarAvaliacao()">Enviar</button>

<div id="listaAvaliacoes"></div>
</div>

<script>

// TOTAL
function calcularTotal() {
let preco = document.getElementById("sabor").value;
let quantidade = document.getElementById("quantidade").value;

if(preco && quantidade) {
document.getElementById("valorTotal").innerText = preco * quantidade;
}
}

// SALVAR PEDIDO
function salvarPedido(event) {
event.preventDefault();

let nome = document.getElementById("nome").value;
let sabor = document.getElementById("sabor").selectedOptions[0].text;
let quantidade = document.getElementById("quantidade").value;
let whatsapp = document.getElementById("whatsapp").value;

let pedido = { nome, sabor, quantidade, whatsapp };

let pedidos = JSON.parse(localStorage.getItem("pedidos")) || [];
pedidos.push(pedido);
localStorage.setItem("pedidos", JSON.stringify(pedidos));

alert("Pedido enviado com sucesso!");
document.querySelector("form").reset();
document.getElementById("valorTotal").innerText = "0";
}

// LOGIN
function mostrarLogin() {
document.getElementById("pedidoArea").classList.add("hidden");
document.getElementById("loginArea").classList.remove("hidden");
}

function fazerLogin() {
let usuario = document.getElementById("usuario").value;
let senha = document.getElementById("senha").value;

if(usuario === "admin" && senha === "1234") {
document.getElementById("loginArea").classList.add("hidden");
document.getElementById("adminArea").classList.remove("hidden");
carregarPedidos();
carregarComentariosADM();
} else {
alert("Login incorreto");
}
}

function voltar() {
document.getElementById("adminArea").classList.add("hidden");
document.getElementById("pedidoArea").classList.remove("hidden");
}

// PEDIDOS ADM
function carregarPedidos() {
let lista = document.getElementById("listaPedidos");
lista.innerHTML = "";

let pedidos = JSON.parse(localStorage.getItem("pedidos")) || [];

pedidos.forEach((p, index) => {
lista.innerHTML += `
<div class="box">
<strong>${p.nome}</strong><br>
${p.sabor}<br>
Qtd: ${p.quantidade}<br>
WhatsApp: ${p.whatsapp}<br>
<button onclick="removerPedido(${index})">‚úî Pedido Feito</button>
</div>
`;
});
}

function removerPedido(index) {
let pedidos = JSON.parse(localStorage.getItem("pedidos")) || [];
pedidos.splice(index, 1);
localStorage.setItem("pedidos", JSON.stringify(pedidos));
carregarPedidos();
}

// SALVAR AVALIA√á√ÉO
function salvarAvaliacao() {
let nome = document.getElementById("nomeAvaliacao").value;
let comentario = document.getElementById("comentario").value;

if(nome && comentario) {
let avaliacao = { nome, comentario };

let avaliacoes = JSON.parse(localStorage.getItem("avaliacoes")) || [];
avaliacoes.push(avaliacao);
localStorage.setItem("avaliacoes", JSON.stringify(avaliacoes));

document.getElementById("nomeAvaliacao").value = "";
document.getElementById("comentario").value = "";

carregarAvaliacoes();
}
}

function carregarAvaliacoes() {
let lista = document.getElementById("listaAvaliacoes");
lista.innerHTML = "";

let avaliacoes = JSON.parse(localStorage.getItem("avaliacoes")) || [];

avaliacoes.forEach(a => {
lista.innerHTML += `
<div class="box">
<strong>${a.nome}</strong><br>
${a.comentario}
</div>
`;
});
}

function carregarComentariosADM() {
let lista = document.getElementById("listaComentariosADM");
lista.innerHTML = "";

let avaliacoes = JSON.parse(localStorage.getItem("avaliacoes")) || [];

avaliacoes.forEach((a, index) => {
lista.innerHTML += `
<div class="box">
<strong>${a.nome}</strong><br>
${a.comentario}<br>
<button onclick="excluirComentario(${index})">Excluir</button>
</div>
`;
});
}

function excluirComentario(index) {
let avaliacoes = JSON.parse(localStorage.getItem("avaliacoes")) || [];
avaliacoes.splice(index, 1);
localStorage.setItem("avaliacoes", JSON.stringify(avaliacoes));
carregarComentariosADM();
carregarAvaliacoes();
}

carregarAvaliacoes();

</script>

</body>
</html>
